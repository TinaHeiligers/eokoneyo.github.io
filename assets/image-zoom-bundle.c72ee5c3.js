(self.webpackChunkeokoneyo_github_io=self.webpackChunkeokoneyo_github_io||[]).push([[618],{7544:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>_});i(2222);var o=i(4575),n=i.n(o),l=i(3913),a=i.n(l),g=i(1506),c=i.n(g),m=i(2205),r=i.n(m),u=i(8585),s=i.n(u),d=i(9754),h=i.n(d),p=i(9713),v=i.n(p),f=i(5091),b=i(8620);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=h()(t);if(e){var n=h()(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return s()(this,i)}}const _=function(t){r()(i,t);var e=x(i);function i(t){var o,l;return n()(this,i),l=e.call(this,t),v()(c()(l),"input",void 0),v()(c()(l),"lightbox",void 0),v()(c()(l),"animate",void 0),v()(c()(l),"lightBoxId",void 0),v()(c()(l),"imgEnlg",void 0),v()(c()(l),"imgPreview",void 0),v()(c()(l),"animationSupported",window.requestAnimationFrame&&!b.WR()),v()(c()(l),"toggleFullWidth",(function(t){l.animationSupported&&l.animate?window.requestAnimationFrame((function(){l.animateZoomImage(t)})):b.og(l.lightbox,"image-zoom__lightbox--is-visible",t)})),v()(c()(l),"animateZoomImage",(function(t){var e,i,o=l.imgPreview.getBoundingClientRect(),n=l.lightbox.getBoundingClientRect().width,a=t?[o.top,o.left,o.width]:[0,0,n],g=t?[-o.top,-o.left,parseFloat(String(n/o.width))]:[o.top+l.lightbox.scrollTop,o.left,parseFloat(String(o.width/n))];t&&(null===(i=l.imgEnlg)||void 0===i||i.setAttribute("style","top: ".concat(a[0],"px; left:").concat(a[1],"px; width:").concat(a[2],"px;")));b.IV(l.lightbox,"image-zoom__lightbox--no-transition"),b.cn(l.lightbox,"image-zoom__lightbox--is-visible"),null===(e=l.imgEnlg)||void 0===e||e.addEventListener("transitionend",(function(){var e;t||b.IV(l.lightbox,"image-zoom__lightbox--is-visible"),b.cn(l.lightbox,"image-zoom__lightbox--no-transition"),null===(e=l.imgEnlg)||void 0===e||e.removeAttribute("style")}),{once:!0}),l.imgEnlg.style.transform="translateX(".concat(g[1],"px) translateY(").concat(g[0],"px) scale(").concat(g[2],")"),b.og(l.lightbox,"image-zoom__lightbox--animate-bg",t)})),l.lightBoxId="img-zoom-lightbox--".concat(l.options.key),l.imgPreview=l.element.getElementsByClassName("js-image-zoom__preview")[0],l.initImageZoomHtml(),l.lightbox=document.getElementById(l.lightBoxId),l.imgEnlg=null===(o=l.lightbox)||void 0===o?void 0:o.getElementsByClassName("js-image-zoom__fw")[0],l.input=l.element.getElementsByClassName("js-image-zoom__input")[0],l.animate="off"!==l.element.getAttribute("data-morph"),l}return a()(i,[{key:"initImageZoomHtml",value:function(){var t=this.element.getAttribute("data-img");t||(t=this.imgPreview.getAttribute("src"));var e=document.createElement("div");b.KT(e,{class:"image-zoom__lightbox js-image-zoom__lightbox",id:this.lightBoxId,"aria-hidden":"true"}),e.innerHTML='<img src="'.concat(t,'" class="js-image-zoom__fw"/>'),document.body.appendChild(e);this.element.insertAdjacentHTML("afterbegin",'<input aria-hidden="true" type="checkbox" class="image-zoom__input js-image-zoom__input"/>')}},{key:"initImageZoomEvents",value:function(){var t,e=this;this.imgPreview.addEventListener("click",(function(){e.toggleFullWidth(!0),e.input.checked=!0})),null===(t=this.lightbox)||void 0===t||t.addEventListener("click",(function(){e.toggleFullWidth(!1),e.input.checked=!1})),this.input.addEventListener("change",(function(){e.toggleFullWidth(e.input.checked)})),this.input.addEventListener("keydown",(function(t){(t.keyCode&&13===t.keyCode||t.key&&"enter"===t.key.toLowerCase())&&(e.input.checked=!e.input.checked,e.toggleFullWidth(e.input.checked))}))}},{key:"mount",value:function(){this.initImageZoomEvents()}}],[{key:"shouldToggle",value:function(t){b.pv(t.lightbox,"image-zoom__lightbox--is-visible")&&t.toggleFullWidth(!1)}}]),i}(f.Component)}}]);